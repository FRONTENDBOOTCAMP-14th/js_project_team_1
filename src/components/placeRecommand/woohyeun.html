<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <title>가기 좋은 장소 추천 컴포넌트</title>
    <style>
      body {
        background: #edf0f5;
        margin: 0;
      }
      .header-area {
        margin-top: 36px;
        margin-bottom: 24px;
        text-align: center;
      }
      .header-area h2 {
        font-size: 1.4rem;
        font-weight: 600;
        color: #1d2f5c;
        margin: 0;
        letter-spacing: -0.02em;
      }
      .carousel-wrap {
        display: flex;
        justify-content: center;
        align-items: center;
        margin: 0 auto;
        width: 80vw;
        max-width: 1600px;
        min-width: 300px;
      }
      .carousel-track-frame {
        width: 80vw;
        max-width: 1600px;
        min-width: 300px;
        height: 240px;
        overflow: hidden;
        position: relative;
        margin: 0 0;
        transition: width 0.3s;
      }
      .track {
        position: relative;
        width: 100%;
        height: 100%;
        user-select: none;
      }
      .card {
        position: absolute;
        left: 50%;
        top: 50%;
        width: 190px;
        height: 190px;
        min-width: 110px;
        min-height: 110px;
        margin: -95px 0 0 -95px;
        background: #fff;
        border-radius: 20px;
        display: flex;
        justify-content: center;
        align-items: center;
        font-size: 37px;
        font-weight: 700;
        color: #3250a5;
        box-shadow: 0 4px 16px rgba(0, 0, 0, 0.13);
        user-select: none;
        cursor: pointer;
        outline: none;
        z-index: 1;
        opacity: 0;
        pointer-events: none;
        box-sizing: border-box;
        border: 0 solid transparent;
        filter: none;
        transition: transform 0.46s cubic-bezier(0.8, 0, 0.24, 1.03),
          opacity 0.34s cubic-bezier(0.8, 0, 0.24, 1.03), box-shadow 0.24s,
          background 0.18s, color 0.18s, border 0.18s;
      }
      .card.visible {
        opacity: 0.68;
        pointer-events: auto;
        filter: none;
        z-index: 2;
      }
      .card.center {
        background: #eef3fc;
        color: #1b3071;
        box-shadow: 0 10px 36px rgba(60, 60, 150, 0.14);
        border: 2.2px solid #4475ec;
        z-index: 10;
        opacity: 1;
        pointer-events: auto;
        filter: none;
      }
      .card:not(.center):hover {
        background: #f3f6fa;
        box-shadow: 0 10px 22px rgba(100, 110, 160, 0.13);
        z-index: 5;
      }
      .arrow {
        background: #f6f8fc;
        color: #2c4ba4;
        border: 1px solid #c4d1f0;
        border-radius: 50%;
        width: 44px;
        height: 44px;
        min-width: 44px;
        min-height: 44px;
        font-size: 27px;
        cursor: pointer;
        margin: 0 10px;
        box-shadow: 0 2px 5px rgba(0, 0, 0, 0.06);
        transition: background 0.18s, color 0.18s, border 0.18s,
          transform 0.1s ease;
        display: flex;
        align-items: center;
        justify-content: center;
        z-index: 20;
        padding: 0;
      }
      .arrow:hover {
        background: #e3eafc;
        color: #1b3071;
        border-color: #7b9dea;
      }
      .arrow:active {
        transform: scale(0.9);
      }
      .detail-area {
        margin: 52px auto 0 auto;
        max-width: 700px;
        background: #fff;
        border-radius: 18px;
        box-shadow: 0 4px 24px rgba(0, 0, 0, 0.11);
        padding: 32px 44px;
        min-height: 100px;
        font-size: 19px;
        color: #21253b;
        display: flex;
        flex-direction: column;
        gap: 12px;
        align-items: center;
        justify-content: center;
        animation: fadein 0.35s;
        text-align: center;
      }
      @keyframes fadein {
        0% {
          opacity: 0;
          transform: translateY(26px);
        }
        100% {
          opacity: 1;
          transform: translateY(0);
        }
      }
      .detail-title {
        font-weight: 700;
        font-size: 22px;
        color: #204099;
        margin-bottom: 10px;
        text-align: center;
        width: 100%;
      }
      .detail-desc {
        text-align: center;
        width: 100%;
        line-height: 1.7;
      }

      @media (max-width: 1200px) {
        .carousel-wrap,
        .carousel-track-frame {
          width: 96vw;
          max-width: 96vw;
        }
        .card {
          width: 140px;
          height: 140px;
          min-width: 100px;
          min-height: 100px;
          font-size: 19px;
          margin: -70px 0 0 -70px;
        }
        .arrow {
          width: 40px;
          min-width: 40px;
          height: 40px;
          min-height: 40px;
          font-size: 20px;
        }
        .detail-area {
          max-width: 94vw;
          padding: 18px 36px;
        }
      }
      @media (max-width: 600px) {
        .carousel-wrap,
        .carousel-track-frame {
          width: 99vw;
          max-width: 99vw;
        }
        .card {
          width: 35vw;
          min-width: 90px;
          height: 35vw;
          min-height: 90px;
          font-size: 6vw;
          margin: calc(-17.5vw) 0 0 calc(-17.5vw);
        }
        .arrow {
          width: 36px;
          min-width: 36px;
          height: 36px;
          min-height: 36px;
          font-size: 6vw;
        }
        .detail-area {
          max-width: 98vw;
          padding: 16px 4vw;
        }
      }
    </style>
  </head>
  <body>
    <div class="header-area">
      <h2>📍 흐린 날씨에 가기 좋은 장소를 추천해드릴게요</h2>
    </div>
    <div class="carousel-wrap">
      <button class="arrow" onclick="move(-1)">&lt;</button>
      <div class="carousel-track-frame">
        <div class="track" id="track"></div>
      </div>
      <button class="arrow" onclick="move(1)">&gt;</button>
    </div>
    <div id="detail-area"></div>
    <script>
      const total = 10; // ← 카드 개수
      const cardDetails = [
        { title: '1번카드 제목', desc: '1번카드 내용' },
        { title: '2번카드 제목', desc: '2번카드 내용' },
        { title: '3번카드 제목', desc: '3번카드 내용' },
        { title: '4번카드 제목', desc: '4번카드 내용' },
        { title: '5번카드 제목', desc: '5번카드 내용' },
        { title: '6번카드 제목', desc: '6번카드 내용' },
        { title: '7번카드 제목', desc: '7번카드 내용' },
        { title: '8번카드 제목', desc: '8번카드 내용' },
        { title: '9번카드 제목', desc: '9번카드 내용' },
        { title: '10번카드 제목', desc: '10번카드 내용' },
      ];

      let centerIdx = 2;
      const VISIBLE = 5;
      const mid = Math.floor(VISIBLE / 2);
      const track = document.getElementById('track');
      const detailArea = document.getElementById('detail-area');
      let moving = false;
      let cardElems = [];

      function renderCards() {
        if (cardElems.length === 0) {
          for (let i = 0; i < total; i++) {
            const card = document.createElement('div');
            card.className = 'card';
            card.textContent = i + 1;
            card.tabIndex = -1;
            card.addEventListener('click', () => {
              if (!moving)
                move(
                  (i - centerIdx + total) % total <= total / 2
                    ? i - centerIdx
                    : i - centerIdx - total
                );
            });
            track.appendChild(card);
            cardElems.push(card);
          }
        }
        updateCards();
      }

      function updateCards() {
        for (let i = 0; i < total; i++) {
          const card = cardElems[i];
          let diff = (i - centerIdx + total) % total;
          if (diff > total / 2) diff -= total;

          if (Math.abs(diff) > mid) {
            card.style.opacity = 0;
            card.style.pointerEvents = 'none';
            card.style.zIndex = 0;
            card.style.transform = `translateX(0px) scale(0.5)`;
            card.classList.remove('visible', 'center');
          } else {
            const baseX = diff * 230;
            card.style.transform = `translateX(${baseX}px) scale(${
              diff === 0 ? 1.16 : 0.78
            })`;
            card.style.opacity = diff === 0 ? 1 : 0.68;
            card.style.zIndex = diff === 0 ? 10 : 2;
            card.classList.toggle('center', diff === 0);
            card.classList.toggle('visible', diff !== 0);
            card.style.pointerEvents = 'auto';
          }
        }
      }

      function showDetail(idx) {
        const data = cardDetails[idx];
        detailArea.innerHTML = `
          <div class="detail-title">${data.title}</div>
          <div class="detail-desc">${data.desc}</div>
        `;
        detailArea.style.animation = 'none';
        void detailArea.offsetWidth;
        detailArea.style.animation = '';
      }

      function move(dir) {
        if (moving) return;
        moving = true;
        centerIdx = (centerIdx + dir + total) % total;
        updateCards();
        showDetail(centerIdx);
        setTimeout(() => {
          moving = false;
        }, 480);
      }

      renderCards();
      showDetail(centerIdx);

      window.addEventListener('resize', updateCards);
    </script>
  </body>
</html>
